version: 4

jobs:
    publish_templates:
        image: node:6
        steps:
            - install: npm install screwdriver-template-main
            - publish: ./process_templates publish
            - test_coverage: meta set tests.coverage 100.0
        requires: [~commit]
    validate_templates:
        image: node:6
        steps:
            - install: npm install screwdriver-template-main
            - validate: ./process_templates validate
        requires: [~pr]
